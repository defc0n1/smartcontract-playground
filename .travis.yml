language: go

go:
- 1.6
- tip

dist: trusty
sudo: required

before_install:
- cd $GOPATH/src/github.com
- mkdir ethereum
- cd ethereum
- git clone https://github.com/ethereum/go-ethereum
- cd go-ethereum
- go get github.com/tools/godep
- godep go install ./cmd/abigen
- sudo add-apt-repository -y ppa:ethereum/ethereum-qt
- sudo add-apt-repository -y ppa:ethereum/ethereum
- sudo apt-get -y update
# this will install solc, however, there is currentl a problem reading from stdin:
# https://github.com/ethereum/solidity/issues/651
# until this issue is fixed, and available in Ubuntu the testcases will not run on travis
# https://github.com/ethereum/solidity/pull/652
- sudo apt-get -y install cpp-ethereum
- go get -t ./...
- cd $TRAVIS_BUILD_DIR

install: go generate

script: go test -v ./...
